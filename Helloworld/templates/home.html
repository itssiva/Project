{% extends 'base.html' %}
{% load staticfiles %}
{% block title %}Home{% endblock %}
{% block content %}
    <h3><strong>Welcome to Hello world API </strong></h3>
    <div class="col-md-6">
    <h3>Logs for /v1/hello-world</h3>
    <table class = "table">
            <caption>Logs for /v1/hello-world/logs/</caption>
            <thead>
                <tr>
                    <th>IP</th>
                    <th>TimeStamp</th>
                </tr>
            </thead>
            <tbody>
                {% for each in hw_logs.logs %}
                    <tr>
                        <td>{{ each.ip }}</td>
                        <td>{{ each.timestamp }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="col-md-6">
    <h3>Logs for /v1/logs</h3>
    <table class = "table">
            <caption>Logs for /v1/logs/</caption>
            <thead>
                <tr>
                    <th>IP</th>
                    <th>TimeStamp</th>
                </tr>
            </thead>
            <tbody>
                {% for each in v1_logs.logset.logs %}
                    <tr>
                        <td>{{ each.ip }}</td>
                        <td>{{ each.timestamp }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="col-md-4 col-sm-12">
        <table class = "table">
            <caption><strong>Log statistics for /v1/hello-world</strong></caption>
            <thead>
                <tr>
                    <th>IP</th>
                    <th>Number of Requests per minute</th>
                </tr>
            </thead>
            <tbody>
                {% for ip, freq_list in hw_freq.items %}
                    <tr>
                        <td>{{ ip }}</td>
                        <td>{{ freq_list }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="col-md-4 col-sm-12">
        <table class = "table">
            <caption><strong>Logs Statistics for /v1/hello-world/logs/</strong></caption>
            <thead>
                <tr>
                    <th>IP</th>
                    <th>Number of Requests per minute</th>
                </tr>
            </thead>
            <tbody>
                {% for ip, freq_list in hwl_freq.items %}

                    <tr>
                        <td>{{ ip }}</td>

                        <td>{{ freq_list}}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="col-md-4 col-sm-12">
        <table class = "table">
            <caption><strong>Log Statistics for /v1/logs/</strong></caption>
            <thead>
                <tr>
                    <th>IP</th>
                    <th>Number of Requests per minute</th>
                </tr>
            </thead>
            <tbody>
                {% for ip, freq_list in l_freq.items %}
                    <tr>
                        <td>{{ ip}}</td>
                        <td>{{ freq_list }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>


{% endblock %}